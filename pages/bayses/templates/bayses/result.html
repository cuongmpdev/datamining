<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <title>Kết quả Naïve Bayes</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 24px; }
    table { border-collapse: collapse; width: 100%; margin: 16px 0; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align:left; }
    th { background: #f6f6f6; }
    code { background: #f2f2f2; padding: 2px 4px; border-radius: 3px; }
  </style>
</head>
<body>
  <h1>Kết quả phân lớp</h1>

  <p><b>Mẫu</b>:
    {% for f in features %}
      <code>{{ f }}={{ sample[f] }}</code>{% if not loop.last %}, {% endif %}
    {% endfor %}
  </p>

  <h2>Dự đoán</h2>
  <p><b>{{ target_col }}</b> = <b>{{ pred_label }}</b> ({{ '{:.4f}'.format(pred_score) }})</p>

  <h2>Xác suất hậu nghiệm</h2>
  <table>
    <thead><tr><th>Lớp</th><th>P(class | mẫu)</th></tr></thead>
    <tbody>
      {% for c, p in proba %}
      <tr><td>{{ c }}</td><td>{{ '{:.6f}'.format(p) }}</td></tr>
      {% endfor %}
    </tbody>
  </table>

  <h2>Giải thích từng thành phần (Laplace α={{ alpha }})</h2>
  {% for c, detail in explain.items() %}
    <h3>Lớp: {{ c }}</h3>
    <table>
      <thead><tr><th>Thành phần</th><th>Giá trị</th></tr></thead>
      <tbody>
        {% for k, v in detail.items() %}
        <tr><td>{{ k }}</td><td>{{ '{:.6f}'.format(v) }}</td></tr>
        {% endfor %}
      </tbody>
    </table>
  {% endfor %}

  <p style="margin-top:24px">
    Công thức Bayes và làm trơn Laplace (tránh xác suất 0) theo tài liệu tham khảo lớp học:  [oai_citation:2‡Bai4_PhanLop_Bayes.pdf](file-service://file-1NM9dtbPRbjDkdSs3tRnd4)  [oai_citation:3‡Bai7_PhanLop_Bayes.pdf](file-service://file-BZmVkzq3pFZwhWsMHbM59d)
  </p>

  <p><a href="/bayses">⟵ Quay lại</a></p>
</body>
</html>